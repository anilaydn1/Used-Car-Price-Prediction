Used Car Price Prediction (Turkey)Description of the ProblemPredicting used car prices in Turkey is challenging due to economic fluctuations and high inflation. In this project, we built a regression model to estimate car prices based on features like Make, Model, Year, Mileage (km), and Engine Power.The goal is to determine the fair market value of a vehicle and understand which features affect the price the most using interpretability tools like SHAP.Dataset and PreprocessingWe used a dataset containing approximately 50,000 car listings.Preprocessing Steps:Cleaning:Removed outliers: Prices < 50,000 TL or > 20,000,000 TL.Removed vehicles with mileage > 1,000,000 km.Missing Values:Technical specs (motor_hacmi, motor_gucu) were filled with the Median.Categorical columns were filled with the Mode.Feature Engineering:Log Transformation: Applied np.log1p to the 'Price' column to handle skewed distribution.Encoding: Used Label Encoding for Brand/Model and One-Hot Encoding for Gear/Fuel types.MethodologyWe tested three different regression models to compare performance:Linear Regression (OLS): Baseline model.XGBoost: Gradient boosting method.Random Forest Regressor: Selected as the final model because it handled non-linear relationships better than OLS and gave the most stable results.Model ResultsThe models were trained on 80% of the data and tested on 20%. The metrics below are calculated on Real TL prices (converted back from log scale).ModelR² ScoreMAE (TL)RMSE (TL)Random Forest0.898488,540 ₺325,017 ₺XGBoost0.8875101,719 ₺341,924 ₺Linear Regression0.6561195,877 ₺597,841 ₺Observation: Tree-based models (Random Forest & XGBoost) performed significantly better than Linear Regression, reducing the error by half.Visualizations & InterpretationWe analyzed the model's decisions using SHAP and Partial Dependence Plots.Feature Importance: The most important factors for price are Year, Engine Power, and Mileage.SHAP Summary: Shows that newer cars and higher engine power positively impact the price, while high mileage has a strong negative impact.RQ1 Analysis (Year & Km): We visualized the marginal effect of Year and Mileage on price (saved in outputs/pdp_analysis_rq1.png).(Plots can be found in the outputs/ folder)How to Run the Project1. Environment SetupInstall the required libraries:Bashpip install -r requirements.txt
2. Run the ScriptsExecute the following scripts in order:Step 1: Prepare Data (Cleans raw data and saves clean_car_data.csv)Bashpython src/car_price_prepare.py
Step 2: Train Models (Trains RF, XGBoost, OLS and saves the best one)Bashpython src/car_price_train.py
Step 3: Generate Plots (Creates SHAP and PDP graphs)Bashpython src/car_price_shap.py
Project Structuredata/: Contains raw and cleaned datasets.src/: Python scripts for processing, training, and analysis.outputs/: Saved models (.pkl) and visualization results (.png).presentation/: Final project presentation (PDF).Authors[Anıl Aydın] - [220717047][Hakan Enes Erişen] - [220717605]